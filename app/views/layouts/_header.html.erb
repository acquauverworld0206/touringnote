<header class="bg-gray-800 p-4 shadow-xl w-full fixed top-0 z-10 border-b border-gray-700 pointer-events-none">
  <div class="flex justify-between items-center max-w-7xl mx-auto pointer-events-auto">
    <!-- ロゴ/アプリ名 (ヘッダー用) -->
    <div class="flex-shrink-0">
      <%= link_to root_path do %>
        <span class="text-2xl font-bold text-gray-300">Route List</span>
      <% end %>
    </div>

    <!-- 右側のナビゲーション -->
    <nav class="flex items-center space-x-4 text-sm font-medium pointer-events-auto">
      <% if user_signed_in? %>
        <!-- ログイン後のリンク -->
        <div class="hidden md:flex items-center space-x-4">
          <%= link_to invitations_path, class: "relative text-gray-300 hover:text-white transition duration-150 ease-in-out" do %>
            <span>招待一覧</span>
            <% if current_user.received_invitations.where(status: 'pending').any? %>
              <span class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-gray-800"></span>
            <% end %>
          <% end %>
          <%= link_to "マイグループ", groups_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
          <%= link_to "マイスポット", spots_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
          <%= link_to "アカウント編集", edit_user_registration_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
          <span id="userNameDisplay" class="hidden sm:block text-gray-300">こんにちは、<%= current_user.nickname %>さん</span>
        </div>
        <%= button_to "ログアウト", destroy_user_session_path, method: :delete, class: "py-1 px-3 rounded-full text-white bg-red-600 hover:bg-red-500 transition duration-150 ease-in-out shadow-md text-sm" %>
      <% else %>
        <!-- ログイン前のリンク -->
        <%= link_to "新規登録", new_user_registration_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
        <%= link_to "ログイン", new_user_session_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
      <% end %>
    </nav>
  </div>
</header>