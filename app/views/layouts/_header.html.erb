<header class="bg-gray-800 p-4 shadow-xl w-full fixed top-0 z-10 border-b border-gray-700 pointer-events-none">
  <div class="flex justify-between items-center max-w-7xl mx-auto pointer-events-auto">
    <!-- ロゴ/アプリ名 (ヘッダー用) -->
    <%= link_to root_path do %>
      <span class="text-2xl font-bold text-gray-300">Route List</span>
    <% end %>

    <nav class="pointer-events-auto">
      <!-- ログイン前ナビゲーション -->
      <div id="loggedOutNav" class="space-x-4 text-sm font-medium">
        <% if user_signed_in? %>
          <!-- ログイン後ナビゲーション -->
          <div id="loggedInNav" class="space-x-4 text-sm font-medium items-center">
            <%# スポット一覧へのリンク %>
            <%= link_to invitations_path, class: "relative text-gray-300 hover:text-white transition duration-150 ease-in-out" do %>
              <span>招待一覧</span>
              <%# 保留中の招待があれば通知バッジを表示 %>
              <% if current_user.received_invitations.where(status: 'pending').any? %>
                <span class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-gray-800"></span>
              <% end %>
            <% end %>
            <%# スポット一覧へのリンク %>
            <%= link_to "マイグループ", groups_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
            <%# スポット一覧へのリンク %>
            <%= link_to "マイスポット", spots_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
            <%# 「こんにちは、〇〇さん」の表示 %>
            <span id="userNameDisplay" class="text-gray-300">こんにちは、<%= current_user.nickname %>さん</span>
            <%# アカウント編集ページへのリンク %>
            <%= link_to "アカウント編集", edit_user_registration_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
            <%# ログアウトボタン %>
            <%= link_to "ログアウト", destroy_user_session_path, class: "py-1 px-3 rounded-full text-white bg-red-600 hover:bg-red-500 transition duration-150 ease-in-out shadow-md", data: { turbo_method: :delete } %>
          </div>
        <% else %>
          <%# 新規登録ボタン %>
          <%= link_to "新規登録", new_user_registration_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
          <%# ログインボタン %>
          <%= link_to "ログイン", new_user_session_path, { class: "text-gray-300 hover:text-white transition duration-150 ease-in-out" } %>
        <% end %>
      </div>


    </nav>
  </div>
</header>